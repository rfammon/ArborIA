/**
 * ARBORIA 2.1 - UNIFIED BUTTON SYSTEM
 * Estilo: Pill Shape, Suave, Consistente e Acessível.
 */

/* --- BOTÃO BASE (.btn) --- */
.btn {
  font-family: inherit;
  font-size: 0.95rem; /* Tamanho de fonte padrão */
  font-weight: 600;
  border-radius: var(--radius-pill);
  padding: 12px 24px; /* Padding generoso para toque */
  border: 2px solid transparent; /* Borda para todos, mas transparente por padrão */
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  transition: all var(--transition-fast);
  text-transform: none; /* Remove uppercase for better readability */
  letter-spacing: normal;
  position: relative;
  overflow: hidden;
  -webkit-tap-highlight-color: transparent;
}

.btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  filter: grayscale(0.8);
}

@media (hover: hover) {
  .btn:not(:disabled):hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
  }
}

.btn:active {
  transform: scale(0.97); /* Efeito tátil de clique */
  box-shadow: none;
}

/* --- MODIFICADORES DE ESTILO --- */

/* 1. Botão Primário (Ações Principais) */
.btn-primary {
  background: var(--gradient-main);
  color: white;
  box-shadow: var(--shadow-floating);
}

@media (hover: hover) {
  .btn-primary:hover {
    background: var(--gradient-hover);
    box-shadow: 0 6px 20px rgba(0, 121, 107, 0.4);
  }
}

/* 2. Botão Secundário (Outline) */
.btn-secondary {
  background-color: transparent;
  border-color: var(--color-forest);
  color: var(--color-forest);
}

@media (hover: hover) {
  .btn-secondary:hover {
    background-color: rgba(var(--color-forest-rgb), 0.08); /* Suave ao passar o mouse */
    border-color: var(--color-forest);
  }
}

/* 3. Botão de Perigo (Ações Destrutivas) */
.btn-danger {
  background-color: transparent;
  border-color: var(--risk-high);
  color: var(--risk-high);
}

@media (hover: hover) {
  .btn-danger:hover {
    background-color: rgba(211, 47, 47, 0.08);
  }
}

.btn-danger-filled {
  /* Herda as propriedades do .btn */
  font-family: inherit;
  font-size: 0.9em; /* Ajustado para modal */
  font-weight: 600;
  border-radius: var(--radius-pill);
  padding: 10px 20px; /* Ajustado para modal */
  border: none; /* Remove a borda para ser um botão "preenchido" */
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  transition: all var(--transition-fast);
  text-transform: none;
  letter-spacing: normal;
  position: relative;
  overflow: hidden;
  -webkit-tap-highlight-color: transparent;

  background: var(--risk-high);
  color: white;
  box-shadow: var(--shadow-sm);
}

@media (hover: hover) {
  .btn-danger-filled:hover {
    background: #b71c1c; /* Mais escuro */
  }
}

/* 4. Botão "Clear" ou "Ghost" */
.btn-clear {
  background-color: var(--color-text-muted);
  color: white;
}

@media (hover: hover) {
  .btn-clear:hover {
    background-color: #5a687d;
  }
}

/* --- Ícones dentro de botões --- */
.btn .button-icon {
  filter: drop-shadow(0 1px 2px rgba(0,0,0,0.5));
}

.btn-primary .button-icon,
.btn-danger-filled .button-icon,
.btn-clear .button-icon {
  filter: invert(1) brightness(2) drop-shadow(0 1px 2px rgba(0,0,0,0.5));
}

/* --- BOTÕES ESPECIAIS (NÃO seguem o .btn padrão) --- */

/* Botão de Câmera HUD */
.hud-capture-btn {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  background: transparent;
  border: 4px solid white;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  padding: 0;
  transition: all 0.2s;
}

.hud-capture-btn::after {
  content: '';
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  width: 54px; height: 54px;
  background: white;
  border-radius: 50%;
  transition: transform 0.2s;
}

.hud-capture-btn:active::after {
  transform: translate(-50%, -50%) scale(0.9);
  background: var(--color-accent);
}

/* Botão Fechar HUD */
.hud-close-btn {
  background: rgba(0, 0, 0, 0.5);
  color: white;
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: var(--radius-pill);
  padding: 8px 16px;
  font-size: 0.9rem;
  backdrop-filter: blur(4px);
  transition: background-color 0.2s;
}

.hud-close-btn:hover {
  background: rgba(0, 0, 0, 0.7);
}

/* Botão de Navegação "Voltar" */
.btn-back {
  background: transparent;
  color: var(--color-tech);
  font-weight: 700;
  padding: 8px 0;
  text-decoration: none;
  transition: color 0.2s;
}

.btn-back:hover {
  color: var(--color-forest);
  text-decoration: underline;
}

/* Botão de Upload (usará .btn .btn-secondary) */
.photo-btn {
  /* Este seletor pode ser removido se o HTML for atualizado */
  /* Temporariamente herdando do .btn e .btn-secondary */
}

/* Botões de Ação do HUD (Medir, etc.) */
.hud-action-btn {
  /* Temporariamente herdando do .btn e .btn-primary */
}

/* Novo: Botão de Ação Geral (para modais e cards) */
.action-btn {
  /* Herda as propriedades do .btn e adiciona estilos específicos de primary */
  background: var(--gradient-main);
  color: white;
  box-shadow: var(--shadow-floating);
  /* Ajustes de padding e fonte para ser um pouco menor que o btn padrão, se necessário */
  padding: 10px 20px; /* Ajuste para caber em modais menores */
  font-size: 0.9em;
  border: none; /* Remove a borda se estiver presente do .btn */
  border-radius: var(--radius-pill); /* Garante o formato pilula */
}

@media (hover: hover) {
  .action-btn:not(:disabled):hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 121, 107, 0.4);
    background: var(--gradient-hover);
  }
}

/* Modificado: Botão de Export/Outline (para modais e ações secundárias) */
.export-btn {
  /* Herda as propriedades do .btn e adiciona estilos específicos de secondary */
  background-color: transparent;
  border-color: var(--color-forest);
  color: var(--color-forest);
  padding: 10px 20px; /* Ajuste para caber em modais menores */
  font-size: 0.9em;
  border-radius: var(--radius-pill); /* Garante o formato pilula */
}

@media (hover: hover) {
  .export-btn:not(:disabled):hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
    background-color: rgba(var(--color-forest-rgb), 0.08); /* Suave ao passar o mouse */
    border-color: var(--color-forest);
  }
}